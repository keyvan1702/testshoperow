<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>چک‌لیست تست shoperow | کنترل کیفیت</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --dark: #2c3e50;
            --light: #f8f9fa;
            --gray: #95a5a6;
            --border: #e9ecef;
            --shadow: rgba(0, 0, 0, 0.08);
            --shadow-hover: rgba(0, 0, 0, 0.12);
            --radius: 12px;
            --radius-sm: 8px;
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Vazirmatn', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border-radius: var(--radius);
            padding: 40px 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(67, 97, 238, 0.2);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: translate(30%, -30%);
        }

        header::after {
            content: '';
            position: absolute;
            bottom: -50px;
            left: -50px;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }

        .header-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            background: linear-gradient(to left, #fff, #f0f0f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 20px;
            max-width: 700px;
        }

        .badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 8px 16px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 10px;
        }

        /* Role Selector */
        .role-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .role-btn {
            padding: 14px 28px;
            background: white;
            border: 2px solid var(--border);
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-weight: 700;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 6px var(--shadow);
        }

        .role-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px var(--shadow-hover);
            border-color: var(--primary);
        }

        .role-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .role-icon {
            font-size: 1.2rem;
        }

        /* Progress Section */
        .progress-section {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 20px var(--shadow);
            border: 1px solid var(--border);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .progress-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .progress-bar-container {
            height: 16px;
            background-color: #f0f3f7;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--success), #2ecc71);
            width: 0%;
            transition: width 1s cubic-bezier(0.34, 1.56, 0.64, 1);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .stat {
            text-align: center;
            padding: 15px;
            flex: 1;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
            font-weight: 600;
        }

        /* Main Layout */
        .main-layout {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        .test-sections {
            flex: 3;
            min-width: 300px;
        }

        .sidebar {
            flex: 1;
            min-width: 320px;
        }

        /* Test Sections */
        .test-section {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 8px 20px var(--shadow);
            border: 1px solid var(--border);
            transition: var(--transition);
        }

        .test-section:hover {
            box-shadow: 0 12px 25px var(--shadow-hover);
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f3f7;
        }

        .section-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--dark);
        }

        .test-item {
            display: flex;
            align-items: flex-start;
            padding: 20px;
            margin-bottom: 12px;
            border-radius: var(--radius-sm);
            transition: var(--transition);
            border: 1px solid transparent;
            background: #fafbfd;
            position: relative;
        }

        .test-item:hover {
            background: white;
            border-color: var(--border);
            transform: translateX(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .test-item.completed {
            background: rgba(46, 204, 113, 0.05);
            border-color: rgba(46, 204, 113, 0.2);
        }

        .test-checkbox {
            appearance: none;
            width: 22px;
            height: 22px;
            border: 2px solid var(--gray);
            border-radius: 6px;
            margin-left: 15px;
            margin-top: 3px;
            cursor: pointer;
            position: relative;
            transition: var(--transition);
        }

        .test-checkbox:checked {
            background: var(--success);
            border-color: var(--success);
        }

        .test-checkbox:checked::after {
            content: '✓';
            position: absolute;
            color: white;
            font-size: 14px;
            font-weight: bold;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .test-content {
            flex: 1;
        }

        .test-title {
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 8px;
            font-size: 1.05rem;
        }

        .test-desc {
            color: var(--gray);
            font-size: 0.9rem;
            line-height: 1.7;
            margin-bottom: 10px;
        }

        .priority-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .priority-high {
            background: rgba(231, 76, 60, 0.1);
            color: var(--danger);
        }

        .priority-medium {
            background: rgba(243, 156, 18, 0.1);
            color: var(--warning);
        }

        .priority-low {
            background: rgba(52, 152, 219, 0.1);
            color: #3498db;
        }

        /* Sidebar */
        .sidebar-card {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 8px 20px var(--shadow);
            border: 1px solid var(--border);
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-title i {
            color: var(--primary);
        }

        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .btn {
            padding: 16px;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-weight: 700;
            font-size: 1rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(67, 97, 238, 0.2);
        }

        .btn-secondary {
            background: #f8f9fa;
            color: var(--dark);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: white;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px var(--shadow);
        }

        .btn-danger {
            background: #fff5f5;
            color: var(--danger);
            border: 1px solid #ffe3e3;
        }

        .btn-danger:hover {
            background: #ffecec;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(231, 76, 60, 0.1);
        }

        /* Bug Report Form */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            color: var(--dark);
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 14px;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            font-size: 1rem;
            transition: var(--transition);
            background: white;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
            font-family: inherit;
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            color: var(--gray);
            font-size: 0.9rem;
            border-top: 1px solid var(--border);
        }

        .footer-logo {
            font-weight: 800;
            font-size: 1.2rem;
            color: var(--primary);
            margin-bottom: 10px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .main-layout {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .progress-stats {
                flex-direction: column;
                gap: 10px;
            }
            
            .stat {
                padding: 10px;
            }
            
            .role-selector {
                justify-content: center;
            }
        }

        /* Animation for completion */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .test-item {
            animation: fadeIn 0.5s ease forwards;
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--dark);
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.85rem;
            font-weight: normal;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>چک‌لیست تست shoperow</h1>
                <p class="subtitle">ابزار جامع کنترل کیفیت برای تست سیستم چندفروشندگی. هر بخش را پس از اتمام تست علامت بزنید و باگ‌های یافت شده را ثبت کنید.</p>
            </div>
        </header>

        <div class="role-selector">
            <button class="role-btn active" data-role="all">
                <i class="fas fa-layer-group role-icon"></i>
                همه تست‌ها
            </button>
            <button class="role-btn" data-role="user">
                <i class="fas fa-user role-icon"></i>
                کاربر عادی
            </button>
            <button class="role-btn" data-role="seller">
                <i class="fas fa-store role-icon"></i>
                فروشنده
            </button>
            <button class="role-btn" data-role="tester">
                <i class="fas fa-code role-icon"></i>
                تست فنی
            </button>
        </div>

        <div class="progress-section">
            <div class="progress-header">
                <div class="progress-title">
                    <i class="fas fa-chart-line"></i>
                    پیشرفت تست
                </div>
                <div id="progressPercent" class="stat-value">0%</div>
            </div>
            
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressFill"></div>
            </div>
            
            <div class="progress-stats">
                <div class="stat">
                    <div class="stat-value" id="totalTests">0</div>
                    <div class="stat-label">کل تست‌ها</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="completedTests">0</div>
                    <div class="stat-label">تکمیل شده</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="remainingTests">0</div>
                    <div class="stat-label">باقی‌مانده</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="highPriorityCount">0</div>
                    <div class="stat-label">اولویت بالا</div>
                </div>
            </div>
        </div>

        <div class="main-layout">
            <div class="test-sections">
                <div class="test-section" data-role="seller">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="section-title">احراز هویت و کاربران</div>
                    </div>
                    
                    <div class="test-item" data-priority="high">
                        <input type="checkbox" class="test-checkbox" id="test1">
                        <div class="test-content">
                            <div class="test-title">ثبت‌نام کاربر جدید</div>
                            <div class="test-desc">تست فرم ثبت‌نام با اطلاعات معتبر و نامعتبر، بررسی تایید ایمیل/شماره تلفن، ثبت‌نام با ایمیل تکراری</div>
                            <span class="priority-badge priority-high">اولویت بالا</span>
                        </div>
                    </div>
                    
                    <div class="test-item" data-priority="high">
                        <input type="checkbox" class="test-checkbox" id="test2">
                        <div class="test-content">
                            <div class="test-title">ورود / خروج از سیستم</div>
                            <div class="test-desc">تست ورود با رمز عبور صحیح و ناصحیح، بازیابی رمز عبور، خروج از حساب کاربری و Session Management</div>
                            <span class="priority-badge priority-high">اولویت بالا</span>
                        </div>
                    </div>
                </div>

                <div class="test-section" data-role="seller">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-store"></i>
                        </div>
                        <div class="section-title">پنل مدیریت فروشنده</div>
                    </div>
                    
                    <div class="test-item" data-priority="high">
                        <input type="checkbox" class="test-checkbox" id="test3">
                        <div class="test-content">
                            <div class="test-title">ساخت فروشگاه جدید</div>
                            <div class="test-desc">تست فرآیند ایجاد فروشگاه، انتخاب دسته‌بندی، آپلود لوگو و پر کردن تمام فیلدهای الزامی</div>
                            <span class="priority-badge priority-high">اولویت بالا</span>
                        </div>
                    </div>
                    
                    <div class="test-item" data-priority="medium">
                        <input type="checkbox" class="test-checkbox" id="test4">
                        <div class="test-content">
                            <div class="test-title">ویرایش اطلاعات فروشگاه</div>
                            <div class="test-desc">تست ویرایش اطلاعات فروشگاه پس از ایجاد، تغییر آدرس، شماره تماس، توضیحات و غیره</div>
                            <span class="priority-badge priority-medium">اولویت متوسط</span>
                        </div>
                    </div>
                    
                    <div class="test-item" data-priority="medium">
                        <input type="checkbox" class="test-checkbox" id="test5">
                        <div class="test-content">
                            <div class="test-title">فعال / غیرفعال کردن فروشگاه</div>
                            <div class="test-desc">تست امکان غیرفعال کردن موقت فروشگاه و تأثیر آن بر نمایش محصولات</div>
                            <span class="priority-badge priority-medium">اولویت متوسط</span>
                        </div>
                    </div>
                </div>

                <div class="test-section" data-role="seller">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-box-open"></i>
                        </div>
                        <div class="section-title">مدیریت محصولات</div>
                    </div>
                    
                    <div class="test-item" data-priority="high">
                        <input type="checkbox" class="test-checkbox" id="test6">
                        <div class="test-content">
                            <div class="test-title">افزودن محصول جدید</div>
                            <div class="test-desc">تست فرم افزودن محصول با تمام اطلاعات (نام، دسته‌بندی، قیمت، موجودی، توضیحات و ...)</div>
                            <span class="priority-badge priority-high">اولویت بالا</span>
                        </div>
                    </div>
                    
                    <div class="test-item" data-priority="medium">
                        <input type="checkbox" class="test-checkbox" id="test7">
                        <div class="test-content">
                            <div class="test-title">بارگذاری تصویر محصول</div>
                            <div class="test-desc">تست آپلود تصویر، فرمت‌های مجاز، اندازه فایل، نمایش پیش‌نمایش و حذف تصویر</div>
                            <span class="priority-badge priority-medium">اولویت متوسط</span>
                        </div>
                    </div>
                    
                    <div class="test-item" data-priority="low">
                        <input type="checkbox" class="test-checkbox" id="test8">
                        <div class="test-content">
                            <div class="test-title">قیمت‌گذاری و تخفیف</div>
                            <div class="test-desc">تست قیمت‌گذاری، تخفیف درصدی و مبلغی، تاریخ شروع و پایان تخفیف</div>
                            <span class="priority-badge priority-low">اولویت پایین</span>
                        </div>
                    </div>
                </div>

                <div class="test-section" data-role="user">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="section-title">تجربه خرید کاربر</div>
                    </div>
                    
                    <div class="test-item" data-priority="high">
                        <input type="checkbox" class="test-checkbox" id="test9">
                        <div class="test-content">
                            <div class="test-title">نمایش صحیح اطلاعات محصول</div>
                            <div class="test-desc">تست نمایش اطلاعات کامل محصول شامل نام، قیمت، تخفیف، موجودی و توضیحات</div>
                            <span class="priority-badge priority-high">اولویت بالا</span>
                        </div>
                    </div>
                    
                    <div class="test-item" data-priority="high">
                        <input type="checkbox" class="test-checkbox" id="test10">
                        <div class="test-content">
                            <div class="test-title">افزودن به سبد خرید</div>
                            <div class="test-desc">تست افزودن محصول به سبد خرید در حالت لاگین و بدون لاگین</div>
                            <span class="priority-badge priority-high">اولویت بالا</span>
                        </div>
                    </div>
                    
                    <div class="test-item" data-priority="medium">
                        <input type="checkbox" class="test-checkbox" id="test11">
                        <div class="test-content">
                            <div class="test-title">محدودیت تعداد خرید</div>
                            <div class="test-desc">تست محدودیت خرید بر اساس موجودی انبار و تعداد مجاز خرید برای هر کاربر</div>
                            <span class="priority-badge priority-medium">اولویت متوسط</span>
                        </div>
                    </div>
                </div>

                <div class="test-section" data-role="tester">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="section-title">امنیت و ارورها</div>
                    </div>
                    
                    <div class="test-item" data-priority="high">
                        <input type="checkbox" class="test-checkbox" id="test12">
                        <div class="test-content">
                            <div class="test-title">تست ورودی‌های غیرمجاز</div>
                            <div class="test-desc">تست ورود داده‌های نامعتبر در فرم‌ها (XSS، SQL Injection، مقادیر غیرمجاز)</div>
                            <span class="priority-badge priority-high">اولویت بالا</span>
                        </div>
                    </div>
                    
                    <div class="test-item" data-priority="medium">
                        <input type="checkbox" class="test-checkbox" id="test13">
                        <div class="test-content">
                            <div class="test-title">بررسی XSS / HTML Inject</div>
                            <div class="test-desc">تست تزریق کد HTML/JS در قسمت‌های متنی مانند توضیحات محصول</div>
                            <span class="priority-badge priority-medium">اولویت متوسط</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <div class="sidebar-card">
                    <div class="card-title">
                        <i class="fas fa-cogs"></i> ابزارهای تست
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary" id="saveBtn">
                            <i class="fas fa-save"></i> ذخیره وضعیت
                        </button>
                        <button class="btn btn-secondary" id="exportBtn">
                            <i class="fas fa-file-export"></i> خروجی گزارش
                        </button>
                        <button class="btn btn-danger" id="resetBtn">
                            <i class="fas fa-redo"></i> ریست چک‌لیست
                        </button>
                    </div>
                </div>

                <div class="sidebar-card">
                    <div class="card-title">
                        <i class="fas fa-bug"></i> گزارش باگ
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="bugPage">صفحه مربوطه</label>
                        <input type="text" id="bugPage" class="form-input" placeholder="مثال: صفحه محصولات / سبد خرید">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="bugDesc">شرح مشکل</label>
                        <textarea id="bugDesc" class="form-textarea" placeholder="مشکل را به طور دقیق شرح دهید..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="bugSteps">مراحل تکرار</label>
                        <textarea id="bugSteps" class="form-textarea" placeholder="مراحل دقیق برای تکرار باگ را بنویسید..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="bugDevice">مرورگر و دستگاه</label>
                        <input type="text" id="bugDevice" class="form-input" placeholder="مثال: Chrome v96, Android 11">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="bugPriority">اولویت باگ</label>
                        <select id="bugPriority" class="form-select">
                            <option value="critical">بحرانی</option>
                            <option value="high">بالا</option>
                            <option value="medium" selected>متوسط</option>
                            <option value="low">پایین</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-primary" id="submitBug" style="width: 100%;">
                        <i class="fas fa-paper-plane"></i> ثبت گزارش باگ
                    </button>
                </div>

                <div class="sidebar-card">
                    <div class="card-title">
                        <i class="fas fa-info-circle"></i> راهنمای تست
                    </div>
                    <p style="margin-bottom: 15px; color: var(--gray); line-height: 1.7;">
                        تست‌کننده می‌تواند در سه نقش مختلف عمل کند:
                    </p>
                    <ul style="color: var(--gray); padding-right: 20px; line-height: 1.8;">
                        <li><strong>کاربر عادی</strong>: تست خرید، سبد خرید و تجربه کاربری</li>
                        <li><strong>فروشنده</strong>: تست پنل مدیریت و عملکرد فروشگاه</li>
                        <li><strong>تست فنی</strong>: بررسی امنیت، عملکرد و خطاها</li>
                    </ul>
                    <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: var(--radius-sm);">
                        <div style="font-weight: 700; margin-bottom: 8px; color: var(--dark);">تعداد تست‌ها بر اساس نقش:</div>
                        <div id="roleStats" style="color: var(--gray); font-size: 0.9rem;"></div>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <div class="footer-logo">shoperow QA Toolkit</div>
            <p>چک‌لیست تست وب‌سایت shoperow | طراحی شده برای تیم‌های کنترل کیفیت حرفه‌ای</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // شمارش تست‌ها
            const totalTests = document.querySelectorAll('.test-checkbox').length;
            const highPriorityTests = document.querySelectorAll('.priority-high').length;
            
            // بارگذاری وضعیت ذخیره شده
            loadSavedState();
            
            // به‌روزرسانی اولیه
            updateProgress();
            updateRoleStats();
            
            // رویداد برای چک‌باکس‌ها
            document.querySelectorAll('.test-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const testItem = this.closest('.test-item');
                    if (this.checked) {
                        testItem.classList.add('completed');
                        // انیمیشن کوچک برای تیک خوردن
                        testItem.style.animation = 'none';
                        setTimeout(() => {
                            testItem.style.animation = 'fadeIn 0.5s ease';
                        }, 10);
                    } else {
                        testItem.classList.remove('completed');
                    }
                    updateProgress();
                    saveState();
                });
            });
            
            // دکمه‌های نقش‌ها
            document.querySelectorAll('.role-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.role-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const role = this.getAttribute('data-role');
                    filterTestsByRole(role);
                });
            });
            
            // دکمه ذخیره
            document.getElementById('saveBtn').addEventListener('click', function() {
                saveState();
                showNotification('وضعیت چک‌لیست با موفقیت ذخیره شد.', 'success');
            });
            
            // دکمه خروجی گزارش
            document.getElementById('exportBtn').addEventListener('click', function() {
                exportReport();
            });
            
            // دکمه ریست
            document.getElementById('resetBtn').addEventListener('click', function() {
                if (confirm('آیا از ریست کردن تمام تست‌ها اطمینان دارید؟ تمام تست‌های انجام شده حذف خواهند شد.')) {
                    document.querySelectorAll('.test-checkbox').forEach(checkbox => {
                        checkbox.checked = false;
                        checkbox.closest('.test-item').classList.remove('completed');
                    });
                    updateProgress();
                    saveState();
                    showNotification('چک‌لیست با موفقیت ریست شد.', 'info');
                }
            });
            
            // دکمه ثبت باگ
            document.getElementById('submitBug').addEventListener('click', function() {
                submitBugReport();
            });
            
            // تابع به‌روزرسانی پیشرفت
            function updateProgress() {
                const completed = document.querySelectorAll('.test-checkbox:checked').length;
                const percent = totalTests > 0 ? Math.round((completed / totalTests) * 100) : 0;
                
                document.getElementById('totalTests').textContent = totalTests;
                document.getElementById('completedTests').textContent = completed;
                document.getElementById('remainingTests').textContent = totalTests - completed;
                document.getElementById('highPriorityCount').textContent = highPriorityTests;
                document.getElementById('progressPercent').textContent = percent + '%';
                
                // انیمیشن نوار پیشرفت
                const progressFill = document.getElementById('progressFill');
                progressFill.style.width = percent + '%';
                
                // تغییر رنگ نوار بر اساس درصد
                if (percent < 30) {
                    progressFill.style.background = 'linear-gradient(90deg, #e74c3c, #e67e22)';
                } else if (percent < 70) {
                    progressFill.style.background = 'linear-gradient(90deg, #f39c12, #f1c40f)';
                } else {
                    progressFill.style.background = 'linear-gradient(90deg, #2ecc71, #27ae60)';
                }
            }
            
            // تابع فیلتر تست‌ها بر اساس نقش
            function filterTestsByRole(role) {
                document.querySelectorAll('.test-section').forEach(section => {
                    if (role === 'all' || section.getAttribute('data-role').includes(role)) {
                        section.style.display = 'block';
                        section.style.animation = 'fadeIn 0.5s ease';
                    } else {
                        section.style.display = 'none';
                    }
                });
            }
            
            // تابع ذخیره وضعیت در localStorage
            function saveState() {
                const state = {};
                document.querySelectorAll('.test-checkbox').forEach((checkbox, index) => {
                    state[index] = checkbox.checked;
                });
                localStorage.setItem('multishop-test-checklist-v2', JSON.stringify(state));
            }
            
            // تابع بارگذاری وضعیت ذخیره شده
            function loadSavedState() {
                const savedState = localStorage.getItem('multishop-test-checklist-v2');
                if (savedState) {
                    const state = JSON.parse(savedState);
                    document.querySelectorAll('.test-checkbox').forEach((checkbox, index) => {
                        if (state[index]) {
                            checkbox.checked = true;
                            checkbox.closest('.test-item').classList.add('completed');
                        }
                    });
                }
            }
            
            // تابع ثبت گزارش باگ
            function submitBugReport() {
                const bugPage = document.getElementById('bugPage').value.trim();
                const bugDesc = document.getElementById('bugDesc').value.trim();
                const bugSteps = document.getElementById('bugSteps').value.trim();
                const bugDevice = document.getElementById('bugDevice').value.trim();
                const bugPriority = document.getElementById('bugPriority').value;
                
                if (!bugPage || !bugDesc || !bugSteps || !bugDevice) {
                    showNotification('لطفاً تمام فیلدهای گزارش باگ را پر کنید.', 'error');
                    return;
                }
                
                const bugReport = {
                    page: bugPage,
                    description: bugDesc,
                    steps: bugSteps,
                    device: bugDevice,
                    priority: bugPriority,
                    timestamp: new Date().toLocaleString('fa-IR'),
                    id: Date.now()
                };
                
                // ذخیره در localStorage
                let bugReports = JSON.parse(localStorage.getItem('multishop-bug-reports-v2') || '[]');
                bugReports.push(bugReport);
                localStorage.setItem('multishop-bug-reports-v2', JSON.stringify(bugReports));
                
                // پاک کردن فرم
                document.getElementById('bugPage').value = '';
                document.getElementById('bugDesc').value = '';
                document.getElementById('bugSteps').value = '';
                document.getElementById('bugDevice').value = '';
                document.getElementById('bugPriority').value = 'medium';
                
                showNotification(`گزارش باگ با موفقیت ثبت شد. شماره گزارش: ${bugReports.length}`, 'success');
            }
            
            // تابع خروجی گزارش
            function exportReport() {
                const completed = document.querySelectorAll('.test-checkbox:checked').length;
                const percent = Math.round((completed / totalTests) * 100);
                const date = new Date().toLocaleString('fa-IR');
                
                let report = `گزارش تست وب‌سایت مولتی‌شاپ\n`;
                report += `تاریخ تولید: ${date}\n`;
                report += `وضعیت کلی: ${completed} از ${totalTests} تست تکمیل شده (${percent}%)\n`;
                report += `تست‌های با اولویت بالا: ${highPriorityTests} مورد\n\n`;
                report += `--- تست‌های تکمیل شده ---\n`;
                
                document.querySelectorAll('.test-section').forEach(section => {
                    const sectionTitle = section.querySelector('.section-title').textContent;
                    const completedInSection = section.querySelectorAll('.test-checkbox:checked').length;
                    const totalInSection = section.querySelectorAll('.test-checkbox').length;
                    
                    report += `\n${sectionTitle} (${completedInSection}/${totalInSection})\n`;
                    
                    section.querySelectorAll('.test-item.completed').forEach(item => {
                        const testTitle = item.querySelector('.test-title').textContent;
                        report += `✅ ${testTitle}\n`;
                    });
                });
                
                report += `\n--- تست‌های باقی‌مانده ---\n`;
                
                document.querySelectorAll('.test-section').forEach(section => {
                    section.querySelectorAll('.test-item:not(.completed)').forEach(item => {
                        const testTitle = item.querySelector('.test-title').textContent;
                        const priority = item.querySelector('.priority-badge').textContent;
                        report += `⏳ ${testTitle} (${priority})\n`;
                    });
                });
                
                // نمایش گزارش در alert
                alert(report);
                
                // ذخیره به صورت فایل
                const blob = new Blob([report], { type: 'text/plain;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `multishop-test-report-${new Date().toISOString().slice(0,10)}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            }
            
            // تابع نمایش نوتیفیکیشن
            function showNotification(message, type) {
                // ایجاد عنصر نوتیفیکیشن
                const notification = document.createElement('div');
                notification.textContent = message;
                notification.style.position = 'fixed';
                notification.style.bottom = '20px';
                notification.style.left = '20px';
                notification.style.padding = '15px 25px';
                notification.style.borderRadius = 'var(--radius-sm)';
                notification.style.fontWeight = '600';
                notification.style.zIndex = '1000';
                notification.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.1)';
                notification.style.animation = 'fadeIn 0.3s ease';
                
                // رنگ‌بندی بر اساس نوع
                if (type === 'success') {
                    notification.style.background = 'linear-gradient(135deg, #2ecc71, #27ae60)';
                    notification.style.color = 'white';
                } else if (type === 'error') {
                    notification.style.background = 'linear-gradient(135deg, #e74c3c, #c0392b)';
                    notification.style.color = 'white';
                } else {
                    notification.style.background = 'white';
                    notification.style.color = 'var(--dark)';
                    notification.style.border = '1px solid var(--border)';
                }
                
                document.body.appendChild(notification);
                
                // حذف خودکار پس از 3 ثانیه
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transition = 'opacity 0.3s ease';
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
            
            // تابع آمار نقش‌ها
            function updateRoleStats() {
                const userTests = document.querySelectorAll('[data-role="user"] .test-checkbox').length;
                const sellerTests = document.querySelectorAll('[data-role="seller"] .test-checkbox').length;
                const testerTests = document.querySelectorAll('[data-role="tester"] .test-checkbox').length;
                
                document.getElementById('roleStats').innerHTML = `
                    <div>کاربر عادی: ${userTests} تست</div>
                    <div>فروشنده: ${sellerTests} تست</div>
                    <div>تست فنی: ${testerTests} تست</div>
                `;
            }
        });
    </script>
</body>
</html>


